{"ast":null,"code":"import React,{useEffect,useState}from'react';import ApiCalendar from'react-google-calendar-api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const config={clientId:\"324887570957-5icsh5nm4g0l6vto5f70m6iqd5nkoiqs.apps.googleusercontent.com\",apiKey:\"AIzaSyBHm7_nomtohiKayblwQYgT87IrosEa8XI\",scope:\"https://www.googleapis.com/auth/calendar\",discoveryDocs:[\"https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest\"]};const Calendar=()=>{const[events,setEvents]=useState([]);const[accessToken,setAccessToken]=useState(null);useEffect(()=>{// Check if the user is already signed in\nif(ApiCalendar.sign){document.getElementById('sign-in-button').classList.add('authButtonInvisible');document.getElementById('sign-out-button').classList.remove('authButtonInvisible');setAccessToken(ApiCalendar.sign.access_token);}else{document.getElementById('sign-in-button').classList.remove('authButtonInvisible');document.getElementById('sign-out-button').classList.add('authButtonInvisible');setAccessToken(null);}},[]);const handleItemClick=async(event,name)=>{if(name==='sign-in'){await ApiCalendar.handleAuthClick();setAccessToken(ApiCalendar.sign.access_token);}else if(name==='sign-out'){await ApiCalendar.handleSignoutClick();setAccessToken(null);}// Toggle class visibility after sign-in, sign-out, or send-email\ndocument.getElementById('sign-in-button').classList.toggle('authButtonInvisible');document.getElementById('sign-out-button').classList.toggle('authButtonInvisible');};const listUpcomingEvents=()=>{ApiCalendar.listEvents({timeMin:new Date().toISOString(),timeMax:new Date(new Date().getTime()+10*24*60*60*1000).toISOString(),showDeleted:true,maxResults:10,orderBy:'updated'}).then(_ref=>{let{result}=_ref;console.log(result.items);setEvents(result.items);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{id:\"sign-in-button\",className:\"authButtonVisible\",onClick:e=>handleItemClick(e,'sign-in'),children:\"Sign In\"}),/*#__PURE__*/_jsx(\"button\",{id:\"sign-out-button\",className:\"authButtonInvisible\",onClick:e=>handleItemClick(e,'sign-out'),children:\"Sign Out\"}),/*#__PURE__*/_jsx(\"button\",{onClick:listUpcomingEvents,children:\"List Upcoming Events\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Upcoming Events\"}),/*#__PURE__*/_jsx(\"ul\",{children:events.map(event=>/*#__PURE__*/_jsxs(\"li\",{children:[event.summary,\" - \",new Date(event.start.dateTime).toLocaleString()]},event.id))}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleItemClick(e,'send-email'),children:\"Send Reminder Emails\"})]});};export default Calendar;","map":{"version":3,"names":["React","useEffect","useState","ApiCalendar","jsx","_jsx","jsxs","_jsxs","config","clientId","apiKey","scope","discoveryDocs","Calendar","events","setEvents","accessToken","setAccessToken","sign","document","getElementById","classList","add","remove","access_token","handleItemClick","event","name","handleAuthClick","handleSignoutClick","toggle","listUpcomingEvents","listEvents","timeMin","Date","toISOString","timeMax","getTime","showDeleted","maxResults","orderBy","then","_ref","result","console","log","items","children","id","className","onClick","e","map","summary","start","dateTime","toLocaleString"],"sources":["C:/GoogleApp/my-app/src/Calendar.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport ApiCalendar from 'react-google-calendar-api';\r\n\r\nconst config = {\r\n  clientId: \"324887570957-5icsh5nm4g0l6vto5f70m6iqd5nkoiqs.apps.googleusercontent.com\",\r\n  apiKey: \"AIzaSyBHm7_nomtohiKayblwQYgT87IrosEa8XI\",\r\n  scope: \"https://www.googleapis.com/auth/calendar\",\r\n  discoveryDocs: [\"https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest\"],\r\n};\r\n\r\nconst Calendar = () => {\r\n  const [events, setEvents] = useState([]);\r\n  const [accessToken, setAccessToken] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Check if the user is already signed in\r\n    if (ApiCalendar.sign) {\r\n      document.getElementById('sign-in-button').classList.add('authButtonInvisible');\r\n      document.getElementById('sign-out-button').classList.remove('authButtonInvisible');\r\n      setAccessToken(ApiCalendar.sign.access_token);\r\n    } else {\r\n      document.getElementById('sign-in-button').classList.remove('authButtonInvisible');\r\n      document.getElementById('sign-out-button').classList.add('authButtonInvisible');\r\n      setAccessToken(null);\r\n    }\r\n  }, []);\r\n\r\n  const handleItemClick = async (event, name) => {\r\n    if (name === 'sign-in') {\r\n      await ApiCalendar.handleAuthClick();\r\n      setAccessToken(ApiCalendar.sign.access_token);\r\n    } else if (name === 'sign-out') {\r\n      await ApiCalendar.handleSignoutClick();\r\n      setAccessToken(null);\r\n    } \r\n\r\n    // Toggle class visibility after sign-in, sign-out, or send-email\r\n    document.getElementById('sign-in-button').classList.toggle('authButtonInvisible');\r\n    document.getElementById('sign-out-button').classList.toggle('authButtonInvisible');\r\n  };\r\n\r\n  const listUpcomingEvents = () => {\r\n    ApiCalendar.listEvents({\r\n      timeMin: new Date().toISOString(),\r\n      timeMax: new Date(new Date().getTime() + 10 * 24 * 60 * 60 * 1000).toISOString(),\r\n      showDeleted: true,\r\n      maxResults: 10,\r\n      orderBy: 'updated'\r\n    }).then(({ result }) => {\r\n      console.log(result.items);\r\n      setEvents(result.items);\r\n    });\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <button id=\"sign-in-button\" className=\"authButtonVisible\" onClick={(e) => handleItemClick(e, 'sign-in')}>Sign In</button>\r\n      <button id=\"sign-out-button\" className=\"authButtonInvisible\" onClick={(e) => handleItemClick(e, 'sign-out')}>Sign Out</button>\r\n      <button onClick={listUpcomingEvents}>List Upcoming Events</button>\r\n      <h2>Upcoming Events</h2>\r\n      <ul>\r\n        {events.map(event => (\r\n          <li key={event.id}>\r\n            {event.summary} - {new Date(event.start.dateTime).toLocaleString()}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <button onClick={(e) => handleItemClick(e, 'send-email')}>Send Reminder Emails</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}